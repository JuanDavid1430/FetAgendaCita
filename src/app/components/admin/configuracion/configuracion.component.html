<div class="configuracion-container">
  <div class="configuracion-header">
    <h1 class="configuracion-title">âš™ï¸ ConfiguraciÃ³n del Sistema</h1>
    <p class="configuracion-subtitle">Gestiona horarios de trabajo y dÃ­as bloqueados</p>
  </div>

  <!-- NavegaciÃ³n de pestaÃ±as -->
  <div class="tabs-navigation">
    <button class="tab-button active" (click)="mostrarTab = 'horarios'">
      ğŸ• Horarios de Trabajo
    </button>
    <button class="tab-button" (click)="mostrarTab = 'dias-bloqueados'">
      ğŸš« DÃ­as Bloqueados
    </button>
  </div>

  <!-- Tab: Horarios de Trabajo -->
  <div *ngIf="mostrarTab === 'horarios'" class="tab-content">
    <div class="section-header">
      <h2>ğŸ• Horarios de Trabajo</h2>
      <p>Configura los horarios de atenciÃ³n para cada dÃ­a de la semana</p>
    </div>

    <!-- Loading -->
    <div *ngIf="loadingHorarios" class="loading">
      <div class="spinner"></div>
      <p>Cargando horarios...</p>
    </div>

    <!-- Error -->
    <div *ngIf="errorHorarios && !loadingHorarios" class="error-message">
      <span class="error-icon">âš ï¸</span>
      {{ errorHorarios }}
    </div>

    <!-- Lista de Horarios -->
    <div *ngIf="!loadingHorarios && !errorHorarios" class="horarios-list">
      <div *ngFor="let horario of horarios" class="horario-card">
        <div class="horario-info">
          <h3>{{ obtenerNombreDia(horario.dia_semana) }}</h3>
          <div class="horario-times">
            <span class="time-display">{{ horario.hora_inicio }}</span>
            <span class="time-separator">-</span>
            <span class="time-display">{{ horario.hora_fin }}</span>
          </div>
        </div>
        
        <div class="horario-controls">
          <label class="toggle-switch">
            <input 
              type="checkbox" 
              [checked]="horario.activo"
              (change)="actualizarHorario(horario.dia_semana, { activo: !horario.activo })">
            <span class="toggle-slider"></span>
            <span class="toggle-label">{{ horario.activo ? 'Activo' : 'Inactivo' }}</span>
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Tab: DÃ­as Bloqueados -->
  <div *ngIf="mostrarTab === 'dias-bloqueados'" class="tab-content">
    <div class="section-header">
      <h2>ğŸš« DÃ­as Bloqueados</h2>
      <p>Gestiona dÃ­as especÃ­ficos donde no se atenderÃ¡ (feriados, vacaciones, etc.)</p>
    </div>

    <!-- Formulario para agregar dÃ­a bloqueado -->
    <div class="add-day-form">
      <h3>â• Agregar DÃ­a Bloqueado</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="fecha">Fecha</label>
          <input 
            type="date" 
            id="fecha" 
            [(ngModel)]="nuevoDiaBloqueado.fecha"
            class="form-control">
        </div>
        <div class="form-group">
          <label for="motivo">Motivo</label>
          <input 
            type="text" 
            id="motivo" 
            [(ngModel)]="nuevoDiaBloqueado.motivo"
            placeholder="Ej: DÃ­a de la Independencia"
            class="form-control">
        </div>
        <div class="form-group">
          <button (click)="agregarDiaBloqueado()" class="btn-agregar">
            â• Agregar
          </button>
        </div>
      </div>
    </div>

    <!-- Loading -->
    <div *ngIf="loadingDias" class="loading">
      <div class="spinner"></div>
      <p>Cargando dÃ­as bloqueados...</p>
    </div>

    <!-- Error -->
    <div *ngIf="errorDias && !loadingDias" class="error-message">
      <span class="error-icon">âš ï¸</span>
      {{ errorDias }}
    </div>

    <!-- Lista de DÃ­as Bloqueados -->
    <div *ngIf="!loadingDias && !errorDias" class="dias-list">
      <div *ngFor="let dia of diasBloqueados" class="dia-card">
        <div class="dia-info">
          <h3>{{ formatearFecha(dia.fecha) }}</h3>
          <p>{{ dia.motivo }}</p>
        </div>
        <div class="dia-actions">
          <button (click)="eliminarDiaBloqueado(dia.id!)" class="btn-eliminar">
            ğŸ—‘ï¸ Eliminar
          </button>
        </div>
      </div>

      <!-- Sin dÃ­as bloqueados -->
      <div *ngIf="diasBloqueados.length === 0" class="no-dias">
        <div class="no-dias-icon">ğŸ“…</div>
        <h3>No hay dÃ­as bloqueados</h3>
        <p>Agrega dÃ­as especÃ­ficos donde no se atenderÃ¡.</p>
      </div>
    </div>
  </div>
</div>